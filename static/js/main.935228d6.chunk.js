(this.webpackJsonpmemory_box=this.webpackJsonpmemory_box||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},257:function(e,t){},259:function(e,t){},273:function(e,t){},275:function(e,t){},303:function(e,t){},305:function(e,t){},306:function(e,t){},311:function(e,t){},313:function(e,t){},332:function(e,t){},344:function(e,t){},347:function(e,t){},364:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(14),s=n.n(c),i=(n(228),n(229),n(7)),o=n(405),l=n(418),u=n(407),p=n(393),d=n(396),j=n(398),b=n(399),f=n(366),m=n(401),x=n(402),h=n(400),g=n(403),O=n(404),y=n(200),v=n.n(y),C=n(202),k=n.n(C),w=n(201),F=n.n(w),S=n(194),T=n.n(S),N=n(13),W=n(16),P=n(12),E=n.n(P),D=n(23),B=n(196),I=n.n(B).a.create({baseURL:"https://memory-box-server.herokuapp.com"}),L=function(e,t){return I.patch("/post/".concat(e,"/update"),t)},U=function(e,t){return I.patch("/post/".concat(e,"/like"),t)},_=function(e,t){return I.patch("/post/".concat(e,"/dislike"),t)},A=function(e){return I.delete("/post/".concat(e,"/delete"))},R=function(e){return I.post("/auth/signin",e)},z=function(e){return I.post("/auth/signup",e)},M=function(){return function(){var e=Object(D.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/post");case 3:n=e.sent,a=n.data,t({type:"FETCH_POSTS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(D.a)(E.a.mark((function t(n){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.tags=e.tags.toLowerCase(),t.next=4,c=e,I.post("/post",c);case 4:return a=t.sent,r=a.data,n({type:"CREATE_POST",payload:r}),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e,t){return function(){var n=Object(D.a)(E.a.mark((function n(a){var r,c;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L(e,t);case 3:return r=n.sent,c=r.data,a({type:"UPDATE_POST",payload:c}),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(0),console.log(n.t0),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},G=Object(p.a)({media:{height:0,paddingTop:"66.25%",backgroundColor:"rgba(0, 0, 0, 0.5)"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{backgroundColor:"black",display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"205px",right:"20px",color:"white"},grid:{display:"flex"},details:{marginLeft:16,marginRight:10,marginTop:5,justifyContent:"space-between"},title:{color:"#F2E9EA"},cardActions:{marginRight:10,marginTop:20,display:"flex",justifyContent:"space-between"},texts:{color:"#F2E9EA",marginTop:5}}),V=function(e){var t=e.post,n=e.parent,r=e.username,c=Object(N.b)(),s=G(),i=JSON.parse(localStorage.getItem("profile"));return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(d.a,{className:s.card,children:[Object(a.jsx)(j.a,{className:s.media,image:t.selectedFile,title:t.title}),Object(a.jsx)("div",{className:s.overlay2,children:"user"===n&&i.username===r?Object(a.jsx)(b.a,{style:{color:"white"},size:"small",component:W.b,to:"/populate/".concat(t._id),title:"Edit Post",children:Object(a.jsx)(h.a,{fontSize:"large"})}):Object(a.jsx)(a.Fragment,{})}),Object(a.jsxs)("div",{className:s.details,children:[Object(a.jsx)(f.a,{variant:"h6",style:{fontWeight:"bold",color:"#C2936E",textDecoration:"none"},component:W.b,to:"/user/".concat(t.creator),children:t.creator}),Object(a.jsx)(f.a,{variant:"body2",style:{color:"grey"},children:T()(t.createdAt).fromNow()})]}),Object(a.jsx)(m.a,{children:Object(a.jsx)(f.a,{className:s.title,variant:"body1",gutterBottom:!0,children:t.message})}),Object(a.jsx)("div",{className:s.details,children:Object(a.jsx)(f.a,{variant:"body2",className:s.texts,children:t.tags.split(" ").map((function(e){return"#".concat(e," ")}))})}),Object(a.jsxs)(x.a,{className:s.cardActions,children:[Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(b.a,{size:"small",color:"primary",onClick:function(){c(function(e,t){return function(){var n=Object(D.a)(E.a.mark((function n(a){var r,c;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U(e,{username:t});case 3:r=n.sent,c=r.data,a({type:"UPDATE_POST",payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t._id,i.username))},children:-1===t.likes.indexOf(i.username)?Object(a.jsx)(v.a,{fontSize:"small"}):Object(a.jsx)(g.a,{fontSize:"small"})}),Object(a.jsx)(f.a,{variant:"body1",className:s.texts,children:t.likes.length})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(b.a,{size:"small",color:"primary",onClick:function(){c(function(e,t){return function(){var n=Object(D.a)(E.a.mark((function n(a){var r,c;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_(e,{username:t});case 3:r=n.sent,c=r.data,a({type:"UPDATE_POST",payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t._id,i.username))},children:-1===t.dislikes.indexOf(i.username)?Object(a.jsx)(F.a,{fontSize:"small"}):Object(a.jsx)(k.a,{fontSize:"small"})}),Object(a.jsx)(f.a,{variant:"body1",className:s.texts,children:t.dislikes.length})]}),"user"===n&&i.username===r?Object(a.jsx)(b.a,{size:"small",color:"primary",onClick:function(){var e;window.confirm("Are you sure you wish to delete this post?")&&c((e=t._id,function(){var t=Object(D.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:n({type:"DELETE_POST",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))},children:Object(a.jsx)(O.a,{fontSize:"small"})}):Object(a.jsx)(a.Fragment,{})]})]})})},q=n(406),K=Object(p.a)((function(e){return{mainContainer:{display:"flex",alignItems:"center",padding:40,marginTop:25},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}})),Q=function(e){var t=e.posts,n=K(),r=e.parent,c=e.username;return t.length?Object(a.jsx)(u.a,{className:n.mainContainer,container:!0,alignItems:"stretch",spacing:3,children:t.map((function(e){return Object(a.jsx)(u.a,{item:!0,xs:12,sm:4,children:Object(a.jsx)(V,{post:e,parent:r,username:c})},e._id)}))}):Object(a.jsx)(o.a,{maxWidth:"sm",style:{display:"flex",justifyContent:"space-around",marginTop:100},children:"user"===r||"liked"===r||"disliked"===r?Object(a.jsx)(f.a,{variant:"h6",children:"No posts to show"}):Object(a.jsx)(q.a,{})})},X=n(408),Y=n(409),Z=n(410),$=n(411),ee=n(203),te=n.n(ee),ne=Object(p.a)((function(e){return{appBar:{display:"flex",padding:10,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:"black"},appBar2:{top:50,display:"flex",padding:10,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:"black"},heading:{color:"#C2936E",fontWeight:"bold"},image:{marginLeft:"15px"}}}));function ae(e){var t=ne(),n=Object(N.b)(),r=Object(i.g)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.a,{maxWidth:"lg",style:{height:30},children:[Object(a.jsx)(X.a,{className:t.appBar,position:"fixed",color:"inherit",children:Object(a.jsx)(f.a,{className:t.heading,variant:"h4",align:"center",children:e.title})}),"User Login"!==e.title&&"Sign Up with MemB"!==e.title&&"Memory Box"!==e.title?Object(a.jsxs)(X.a,{position:"fixed",className:t.appBar2,children:[Object(a.jsx)(Y.a,{onClick:function(){window.confirm("Are you sure you wish to Logout")&&(n({type:"LOGOUT"}),r.push("/"))},title:"Logout",children:Object(a.jsx)(Z.a,{style:{color:"FFFFFF"}})}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(Y.a,{component:W.b,to:"/searchUsers",title:"Search Users",children:Object(a.jsx)($.a,{style:{color:"FFFFFF"}})}),Object(a.jsx)(Y.a,{component:W.b,to:"/searchPosts",title:"Search Posts",children:Object(a.jsx)(te.a,{style:{color:"FFFFFF"}})})]})]}):Object(a.jsx)(a.Fragment,{})]})})}var re=n(206),ce=n.n(re),se=n(204),ie=n.n(se),oe=n(205),le=n.n(oe),ue=n(412),pe=n(413),de=n(207),je=n.n(de),be=n(209),fe=n.n(be),me=n(208),xe=n.n(me),he=Object(p.a)((function(){return{appBar:{top:"auto",bottom:0},appBar2:{background:"black",top:"auto",bottom:50,padding:20},fabButton:{top:-10}}}));function ge(e){var t=e.parent,n=he(),r=Object(i.h)();return Object(a.jsxs)(a.Fragment,{children:["user"===t?Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(X.a,{position:"fixed",className:n.appBar2,children:Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(a.jsx)(f.a,{style:{fontWeight:"bold",textDecoration:"none",color:"/user"===r.pathname?"#C2936E":"white"},variant:"h6",component:W.b,to:"/user",children:"My Posts"}),Object(a.jsx)(f.a,{style:{fontWeight:"bold",textDecoration:"none",color:"/user/liked"===r.pathname?"#C2936E":"white"},variant:"h6",component:W.b,to:"/user/liked",children:"Liked"}),Object(a.jsx)(f.a,{style:{fontWeight:"bold",textDecoration:"none",color:"/user/disliked"===r.pathname?"#C2936E":"white"},variant:"h6",component:W.b,to:"/user/disliked",children:"Disliked"})]})})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(X.a,{position:"fixed",className:n.appBar,children:Object(a.jsxs)(ue.a,{style:{background:"black",minWidth:50},children:[Object(a.jsx)(pe.a,{label:"Recents",value:"recents",component:W.b,to:"/feed",icon:"feed"===t?Object(a.jsx)(ie.a,{style:{color:"#ffffff"}}):Object(a.jsx)(le.a,{style:{color:"#ffffff"}})}),Object(a.jsx)(pe.a,{label:"Recents",value:"recents",component:W.b,to:"/populate",icon:"populate"===t?Object(a.jsx)(ce.a,{style:{color:"#ffffff"},fontSize:"large"}):Object(a.jsx)(je.a,{style:{color:"#ffffff"},fontSize:"large"})}),Object(a.jsx)(pe.a,{label:"Recents",value:"recents",component:W.b,to:"/user",icon:"user"===t?Object(a.jsx)(xe.a,{style:{color:"#ffffff"}}):Object(a.jsx)(fe.a,{style:{color:"#ffffff"}})})]})})]})}var Oe=function(){var e=Object(N.b)(),t=Object(i.g)(),n=JSON.parse(localStorage.getItem("profile"));Object(r.useEffect)((function(){n?e(M()):t.push("/")}),[e,t,n]);var c=Object(N.c)((function(e){return e.posts}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:"Memories"}),Object(a.jsx)(o.a,{maxWidth:"lg",children:Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{style:{marginTop:60,marginBottom:60},children:Object(a.jsx)(u.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:5,children:Object(a.jsx)(Q,{parent:"feed",username:n.username,posts:c})})})})}),Object(a.jsx)(ge,{parent:"feed"})]})},ye=function(e){return function(){var t=Object(D.a)(E.a.mark((function t(n){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:return a=t.sent,r=a.data,console.log(r),n({type:"AUTH",payload:r}),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(D.a)(E.a.mark((function t(n){var a,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e);case 3:return a=t.sent,r=a.data,n({type:"AUTH",payload:r}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(D.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/auth");case 3:n=e.sent,a=n.data,t({type:"FETCH_USERS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ke=function(){var e=Object(N.b)(),t=Object(i.h)(),n=Object(i.g)(),c=Object(i.i)().username,s=JSON.parse(localStorage.getItem("profile"));s||n.push("/");var p=s.username;Object(r.useEffect)((function(){e(M()),e(Ce())}),[e]);var d=Object(N.c)((function(e){return e.posts})),j="user",b=c||p;return b===p?"/user/liked"===t.pathname?(d=d.filter((function(e){return e.likes.indexOf(p)>-1})),j="liked"):"/user/disliked"===t.pathname?(d=d.filter((function(e){return e.dislikes.indexOf(p)>-1})),j="disliked"):d=d.filter((function(e){return e.creator===p})):d=d.filter((function(e){return e.creator===b})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:b}),Object(a.jsx)(o.a,{maxWidth:"lg",children:Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{style:{marginTop:60,marginBottom:60},children:Object(a.jsx)(u.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:5,children:Object(a.jsx)(Q,{parent:j,username:b,posts:d})})})})}),Object(a.jsx)(ge,{parent:"user"})]})},we=n(215),Fe=Object(p.a)((function(){return{appBar:{borderRadius:15,display:"flex",padding:10,flexDirection:"row",justifyContent:"center",alignItems:"center"},heading:{color:"#e50000",fontWeight:"bold"},paper:{borderRadius:15,padding:"100px 0",background:"black"},buttonSignup:{fontWeight:"bold",marginTop:20,marginBottom:60,background:"#79CDCD"},buttonLogin:{fontWeight:"bold",marginTop:20,marginBottom:10,background:"#66cd00"},image:{marginLeft:"15px"}}})),Se=function(){var e=Fe(),t=Object(i.g)();return JSON.parse(localStorage.getItem("profile"))&&t.push("/feed"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:"Memory Box"}),Object(a.jsx)(o.a,{maxWidth:"sm",align:"center",style:{marginTop:50},children:Object(a.jsxs)(we.a,{className:e.paper,children:[Object(a.jsx)(f.a,{style:{fontWeight:"bold",color:"#C2936E"},variant:"h5",align:"center",children:"New User ?"}),Object(a.jsx)(W.c,{style:{textDecoration:"none"},to:"/register",children:Object(a.jsx)(b.a,{className:e.buttonSignup,variant:"contained",size:"large",type:"submit",children:"Sign Up"})}),Object(a.jsx)(f.a,{style:{fontWeight:"bold",marginBottom:60,color:"#C2936E"},variant:"h4",align:"center",children:"OR"}),Object(a.jsx)(f.a,{style:{fontWeight:"bold",color:"#C2936E"},variant:"h5",align:"center",children:"Existing User ?"}),Object(a.jsx)(W.c,{style:{textDecoration:"none"},to:"/login",children:Object(a.jsx)(b.a,{className:e.buttonLogin,variant:"contained",size:"large",type:"submit",children:"Log In"})})]})})]})},Te=n(49),Ne=n(24),We=n(25),Pe=n(417),Ee=n(414),De=n(415),Be=n(94),Ie=n.n(Be),Le=n(93),Ue=n.n(Le),_e=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{marginTop:10,padding:e.spacing(2),borderRadius:15},form:{display:"flex",flexWrap:"wrap",padding:e.spacing(1),justifyContent:"center"},textField:{marginTop:20},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{fontWeight:"bold",marginTop:50,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonGoogle:{fontWeight:"bold",marginTop:50,background:"light grey",fontFamily:"Copperplate Papyrus"},buttonSignup:{fontWeight:"bold",marginTop:25,marginBottom:10,color:"#000",fontFamily:"Copperplate Papyrus",textDecoration:"none"}}})),Ae=function(){var e=_e(),t=Object(N.b)(),n=Object(i.g)(),c=Object(r.useState)({username:"",password:""}),s=Object(We.a)(c,2),u=s[0],p=s[1],d=Object(r.useState)(!1),j=Object(We.a)(d,2),m=j[0],x=j[1],h=Object(r.useState)(!1),g=Object(We.a)(h,2),O=g[0],y=g[1],v=function(e){p((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(Te.a)({},e.target.name,e.target.value))}))},C=function(){var e=Object(D.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),x(!0),e.next=4,t(ye(u));case 4:e.sent?n.push("/feed"):alert("Invalid Login Credentials"),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:"User Login"}),Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{maxWidth:"sm",style:{marginTop:50},children:Object(a.jsxs)(we.a,{className:e.paper,children:[Object(a.jsxs)("form",{autoComplete:"off",noValidate:!0,className:e.form,children:[Object(a.jsx)(f.a,{variant:"h6",children:"Enter Login Details"}),Object(a.jsx)(Pe.a,{className:e.textField,name:"username",variant:"outlined",label:"Username",fullWidth:!0,value:u.username,onChange:v}),Object(a.jsx)(Pe.a,{className:e.textField,name:"password",variant:"outlined",type:O?"text":"password",label:"Password",fullWidth:!0,value:u.password,onChange:v,InputProps:{endAdornment:Object(a.jsx)(Ee.a,{position:"end",children:Object(a.jsx)(Y.a,{onClick:function(){y((function(e){return!e}))},children:O?Object(a.jsx)(Ue.a,{}):Object(a.jsx)(Ie.a,{})})})}}),Object(a.jsx)(b.a,{className:e.buttonSubmit,variant:"contained",size:"large",fullWidth:!0,onClick:C,children:"Login"}),Object(a.jsx)(f.a,{variant:"body1",position:"end",className:e.buttonSignup,component:W.b,to:"/register",children:"New User ? Signup here"})]}),m?Object(a.jsx)(De.a,{}):Object(a.jsx)(a.Fragment,{})]})})})]})},Re=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{marginTop:10,padding:e.spacing(2),borderRadius:15},form:{display:"flex",flexWrap:"wrap",padding:e.spacing(1),justifyContent:"center"},textField:{marginTop:20},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{fontWeight:"bold",marginTop:50,marginBottom:10,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonLogin:{fontWeight:"bold",marginTop:25,marginBottom:10,color:"#000",textDecoration:"none",fontFamily:"Copperplate Papyrus"}}})),ze=function(){var e=Re(),t=Object(N.b)(),n=Object(i.g)(),c=Object(r.useState)({name:"",username:"",password:"",confPass:""}),s=Object(We.a)(c,2),u=s[0],p=s[1],d=Object(r.useState)(!1),j=Object(We.a)(d,2),m=j[0],x=j[1],h=Object(r.useState)(!1),g=Object(We.a)(h,2),O=g[0],y=g[1],v=function(e){p((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(Te.a)({},e.target.name,e.target.value))}))},C=function(){var e=Object(D.a)(E.a.mark((function e(a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x(!0),u.password===u.confPass){e.next=6;break}alert("Passwords do not match"),e.next=14;break;case 6:if(!(u.password.length<8)){e.next=10;break}alert("Password should be atleast 8 digits long"),e.next=14;break;case 10:return e.next=12,t(ve(u));case 12:e.sent?n.push("/feed"):alert("Username is taken. Try another");case 14:x(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:"Sign Up with MemB"}),Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{maxWidth:"sm",style:{marginTop:50},children:Object(a.jsxs)(we.a,{className:e.paper,children:[Object(a.jsxs)("form",{autoComplete:"off",noValidate:!0,className:e.form,children:[Object(a.jsx)(f.a,{variant:"h6",children:"New User"}),Object(a.jsx)(Pe.a,{className:e.textField,name:"name",variant:"outlined",label:"Name",fullWidth:!0,value:u.name,onChange:v}),Object(a.jsx)(Pe.a,{className:e.textField,name:"username",variant:"outlined",label:"Username",fullWidth:!0,value:u.username,onChange:v}),Object(a.jsx)(Pe.a,{className:e.textField,name:"password",variant:"outlined",label:"Password",type:O?"text":"password",fullWidth:!0,value:u.password,onChange:v,InputProps:{endAdornment:Object(a.jsx)(Ee.a,{position:"end",children:Object(a.jsx)(Y.a,{onClick:function(){y((function(e){return!e}))},children:O?Object(a.jsx)(Ue.a,{}):Object(a.jsx)(Ie.a,{})})})}}),Object(a.jsx)(Pe.a,{className:e.textField,name:"confPass",variant:"outlined",type:"password",label:"Confirm Password",fullWidth:!0,value:u.confPass,onChange:v}),Object(a.jsx)(b.a,{className:e.buttonSubmit,variant:"contained",size:"large",type:"submit",fullWidth:!0,onClick:C,children:"Create User"}),Object(a.jsx)(f.a,{className:e.buttonLogin,component:W.b,to:"/login",variant:"body1",size:"large",type:"submit",children:"Already have an account ? Login here"})]}),m?Object(a.jsx)(De.a,{}):Object(a.jsx)(a.Fragment,{})]})})})]})},Me=n(210),Je=n.n(Me),He=Object(p.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",padding:e.spacing(1),justifyContent:"center"},textField:{marginTop:6},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{fontWeight:"bold",marginTop:10,marginBottom:10,background:"#79CDCD",fontFamily:"Copperplate Papyrus"},buttonClear:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",color:"#ffffff",marginTop:10,marginBottom:10,background:"grey"},buttonCancel:{fontWeight:"bold",fontFamily:"Copperplate Papyrus",color:"#ffffff",marginTop:10,marginBottom:10,background:"#ed1c24"}}})),Ge=function(){var e=Object(i.i)().id,t=Object(N.b)(),n=He(),c=Object(i.g)(),s=(new Date).toISOString(),u=Object(r.useState)("https://img.icons8.com/pastel-glyph/64/000000/image-file-add.png"),p=Object(We.a)(u,2),d=p[0],j=p[1],f=Object(N.c)((function(t){return e?t.posts.find((function(t){return t._id===e})):null}));Object(r.useEffect)((function(){f&&(w(f),j(null===f||void 0===f?void 0:f.selectedFile))}),[f]);var m=JSON.parse(localStorage.getItem("profile"));m||c.push("/");var x=m.username,h=Object(r.useState)(!1),g=Object(We.a)(h,2),O=g[0],y=g[1],v=Object(r.useState)({creator:x,title:"",message:"",tags:"",selectedFile:"",createdAt:s}),C=Object(We.a)(v,2),k=C[0],w=C[1],F=function(e){w((function(t){return Object(Ne.a)(Object(Ne.a)({},t),{},Object(Te.a)({},e.target.name,e.target.value))}))},S=function(){var n=Object(D.a)(E.a.mark((function n(a){var r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),""!==k.title){n.next=5;break}alert("Please enter a post title"),n.next=22;break;case 5:if(""!==k.selectedFile){n.next=9;break}alert("Please upload an image"),n.next=22;break;case 9:if(console.log(k.tags),y(!0),!e){n.next=17;break}return n.next=14,t(H(e,k));case 14:r=n.sent,n.next=20;break;case 17:return n.next=19,t(J(k));case 19:r=n.sent;case 20:r?c.push("/feed"):alert("Upload Failed!"),y(!1);case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:e?"Edit post":"Add post"}),Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{maxWidth:"sm",style:{marginTop:120,marginBottom:60},children:Object(a.jsxs)(we.a,{className:n.paper,children:[Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(a.jsx)("img",{style:{maxHeight:"30vh",maxWidth:"50vw"},src:d,alt:"Oops!"})}),Object(a.jsxs)("form",{autoComplete:"off",noValidate:!0,className:n.form,children:[Object(a.jsx)(Pe.a,{className:n.textField,name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:k.title,onChange:F}),Object(a.jsx)(Pe.a,{className:n.textField,name:"message",variant:"outlined",label:"Caption",fullWidth:!0,value:k.message,onChange:F}),Object(a.jsx)(Pe.a,{className:n.textField,name:"tags",variant:"outlined",label:"Tags",fullWidth:!0,value:k.tags,onChange:F}),Object(a.jsx)("div",{className:n.fileInput,children:Object(a.jsx)(Je.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;j(t),w(Object(Ne.a)(Object(Ne.a)({},k),{},{selectedFile:t}))}})}),Object(a.jsx)(b.a,{className:n.buttonSubmit,variant:"contained",size:"large",type:"submit",fullWidth:!0,onClick:S,children:"Post"}),Object(a.jsx)(b.a,{className:n.buttonClear,variant:"contained",size:"small",fullWidth:!0,onClick:function(){w({creator:x,title:"",message:"",tags:"",selectedFile:"",createdAt:s}),j("https://img.icons8.com/pastel-glyph/64/000000/image-file-add.png")},children:"clear"}),Object(a.jsx)(b.a,{className:n.buttonCancel,variant:"contained",size:"small",fullWidth:!0,onClick:function(){c.push("/feed")},children:"Cancel"})]}),O?Object(a.jsx)(De.a,{}):Object(a.jsx)(a.Fragment,{})]})})}),Object(a.jsx)(ge,{parent:"populate"})]})},Ve=n(211),qe=n(419),Ke=n(416),Qe=Object(p.a)((function(e){return{icons:{padding:e.spacing(0,2),pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"}}})),Xe=function(){var e=Object(N.b)(),t=Qe(),n=Object(r.useState)(""),c=Object(We.a)(n,2),s=c[0],i=c[1],u=[];Object(r.useEffect)((function(){e(Ce())}),[e]),(u=Object(N.c)((function(e){return e.auth}))).length>0&&(u=u.filter((function(e){return e.username&&e.name&&(e.username.toLowerCase().includes(s.toLowerCase())||e.name.toLowerCase().includes(s.toLowerCase()))})));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{parent:"searcher",title:"Find Users"}),Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(X.a,{style:{position:"fixed",top:50,alignItems:"center",background:"black",padding:20},children:Object(a.jsxs)(we.a,{style:{padding:10,display:"flex"},children:[Object(a.jsx)("div",{className:t.icons,children:Object(a.jsx)($.a,{})}),Object(a.jsx)(qe.a,{autoComplete:"off",placeholder:"Search\u2026",classes:{root:t.inputRoot},name:"query",value:s,onChange:function(e){i(e.target.value)},inputProps:{"aria-label":"search"}})]})})}),Object(a.jsx)(o.a,{maxWidth:"sm",style:{marginTop:135,marginBottom:65},children:s?0===u.length?Object(a.jsx)(f.a,{variant:"h5",align:"center",children:"No Matches"}):u.map((function(e){return Object(a.jsxs)(we.a,{style:{background:"black",marginTop:10,borderRadius:50,display:"flex",padding:10},component:W.b,to:"/user/".concat(e.username),children:[Object(a.jsx)("div",{className:t.icons,children:Object(a.jsx)(Ke.a,{style:{color:"#ffffff"}})}),Object(a.jsx)(f.a,{variant:"body1",align:"center",style:{color:"#ffffff",marginRight:10},children:e.username}),Object(a.jsxs)(f.a,{variant:"body1",align:"center",style:{color:"#ffffff"},children:["(",e.name,")"]})]},e.id)})):Object(a.jsx)(a.Fragment,{})}),Object(a.jsx)(ge,{parent:"search"})]})},Ye=Object(p.a)((function(e){return{icons:{padding:e.spacing(0,2),pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},appbar:{position:"fixed",top:50,alignItems:"center",background:"black",padding:20}}}));var Ze=function(){var e=Ye(),t=Object(r.useState)(""),n=Object(We.a)(t,2),c=n[0],s=n[1],i=Object(N.c)((function(e){return e.posts})),p=[],d=JSON.parse(localStorage.getItem("profile"));return i.length>0&&(p=i.filter((function(e){return e.tags.includes(c.toLowerCase())}))),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{title:"Search Posts"}),Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(X.a,{className:e.appbar,children:Object(a.jsx)(o.a,{maxWidth:"sm",children:Object(a.jsxs)(we.a,{style:{padding:10,display:"flex"},children:[Object(a.jsx)("div",{className:e.icons,children:Object(a.jsx)($.a,{})}),Object(a.jsx)(qe.a,{autoComplete:"off",placeholder:"Search by tags (don't use '#')",className:e.inputRoot,fullWidth:!0,name:"query",value:c,onChange:function(e){s(e.target.value)},inputProps:{"aria-label":"search"}})]})})})}),Object(a.jsx)(o.a,{maxWidth:"lg",children:c?0===p.length?Object(a.jsx)(o.a,{style:{marginTop:130,marginBottom:60},children:Object(a.jsx)(f.a,{variant:"h5",align:"center",children:"No Matches"})}):Object(a.jsx)(l.a,{in:!0,children:Object(a.jsx)(o.a,{style:{marginTop:80,marginBottom:60},children:Object(a.jsx)(u.a,{container:!0,justify:"space-between",alignItems:"stretch",spacing:5,children:Object(a.jsx)(Q,{parent:"searchPosts",username:d.username,posts:p})})})}):Object(a.jsx)(a.Fragment,{})}),Object(a.jsx)(ge,{parent:"searchPosts"})]})};var $e=function(){var e=Object(N.b)(),t=JSON.parse(localStorage.getItem("profile")),n=null===t||void 0===t?void 0:t.token;return n&&1e3*Object(Ve.decode)(n).exp<(new Date).getTime()&&e({type:"LOGOUT"}),Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/",component:Se}),Object(a.jsx)(i.b,{exact:!0,path:"/login",component:Ae}),Object(a.jsx)(i.b,{exact:!0,path:"/register",component:ze}),Object(a.jsx)(i.b,{exact:!0,path:"/feed",component:Oe}),Object(a.jsx)(i.b,{exact:!0,path:"/user",component:ke}),Object(a.jsx)(i.b,{exact:!0,path:"/user/liked",component:ke}),Object(a.jsx)(i.b,{exact:!0,path:"/user/disliked",component:ke}),Object(a.jsx)(i.b,{exact:!0,path:"/user/:username",component:ke}),Object(a.jsx)(i.b,{exact:!0,path:"/populate",component:Ge}),Object(a.jsx)(i.b,{exact:!0,path:"/populate/:id",component:Ge}),Object(a.jsx)(i.b,{exact:!0,path:"/searchUsers",component:Xe}),Object(a.jsx)(i.b,{exact:!0,path:"/searchPosts",component:Ze}),Object(a.jsx)(i.a,{to:"/"})]})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,420)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},tt=n(51),nt=n(212),at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(Ne.a)({},null===t||void 0===t?void 0:t.payload))),Object(Ne.a)(Object(Ne.a)({},e),{},{authData:null===t||void 0===t?void 0:t.payload});case"FETCH_USERS":return t.payload;case"LOGOUT":return localStorage.clear(),Object(Ne.a)(Object(Ne.a)({},e),{},{authData:null});default:return e}},rt=n(213),ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return t.payload;case"CREATE_POST":return[].concat(Object(rt.a)(e),[t.payload]);case"UPDATE_POST":return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case"DELETE_POST":return e.filter((function(e){return e._id!==t.payload._id}));default:return e}},st=Object(tt.c)({posts:ct,auth:at}),it=Object(tt.e)(st,Object(tt.d)(Object(tt.a)(nt.a)));s.a.render(Object(a.jsx)(W.a,{children:Object(a.jsx)(N.a,{store:it,children:Object(a.jsx)($e,{})})}),document.getElementById("root")),et()}},[[364,1,2]]]);
//# sourceMappingURL=main.935228d6.chunk.js.map